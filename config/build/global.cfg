[DEFAULT]
scriptsLocation=/home/jenkins/scripts
rsyncExecutable=rsync
rsyncExtraArgs=--delete-during
sshExecutable=ssh
gitExecutable=git
svnExecutable=svn
bzrExecutable=bzr
patchExecutable=patch
configureExecutable=cmake
configureExtraArgs=
makeExecutable=make
updateMimeDatabaseExecutable=update-mime-database
ctestExecutable=ctest
xvfbExecutable=Xvfb
dbusLaunchExecutable=dbus-launch
kbuildsycoca4Executable=kbuildsycoca4
kdeinitExecutable=kdeinit4
nepomukExecutable=nepomukservicestub
terminateTestEnvExecutable=killall

[General]
installPrefix=/srv/jenkins/install/%(opSys)s/%(architecture)s/%(compiler)s/%(systemBase)s/
remotePrefix=/srv/jenkins/install/%(opSys)s/%(architecture)s/%(compiler)s/%(systemBase)s/
remoteHostPrefix=jenkins@build.kde.org:%(remotePrefix)s
rsyncCommand=%(rsyncExecutable)s %(rsyncExtraArgs)s -rlptgoD --checksum
createRemotePathCommand=%(sshExecutable)s -x jenkins@build.kde.org mkdir -p {remotePath}

[Source]
gitCloneCommand=%(gitExecutable)s clone {url} .
gitFetchCommand=%(gitExecutable)s fetch
gitSetBranchCommand=%(gitExecutable)s branch --set-upstream --force jenkins origin/{targetBranch}
gitCleanCommand=%(gitExecutable)s reset --hard && %(gitExecutable)s clean -dfx
svnRevertCommand=%(svnExecutable)s revert -R .
bzrCleanCommand=%(bzrExecutable)s revert --no-backup && %(bzrExecutable)s clean-tree --force
patchCommand=%(patchExecutable)s -p0 -i

[Build]
inSourceBuild=False
configureCommand=%(configureExecutable)s %(configureExtraArgs)s -DKDE4_BUILD_TESTS=ON -DLIB_SUFFIX=64 -DSIP_DEFAULT_SIP_DIR={instPrefix}/share/sip/ -DCMAKE_INSTALL_PREFIX={instPrefix} {sources}
makeCommand=%(makeExecutable)s -l {loadLevel} -j {jobCount}
makeInstallCommand=%(makeExecutable)s -l {loadLevel} -j {jobCount} install
updateMimeDatabaseCommand=%(updateMimeDatabaseExecutable)s share/mime

[Test]
testsEnabled=True
ctestCountTestsCommand=%(ctestExecutable)s -N
xvfbDisplayName=:99
xvfbCommand=%(xvfbExecutable)s %(xvfbDisplayName)s -ac -screen 0 1600x1200x24+32
dbusLaunchCommand=%(dbusLaunchExecutable)s
kbuildsycocaCommand=%(kbuildsycoca4Executable)s --noincremental
kdeinitCommand=%(kdeinitExecutable)s
nepomukCommand=%(nepomukExecutable)s "nepomukstorage"
kdeStartupWait=20
ctestRunCommand=%(ctestExecutable)s -T Test --output-on-failure --no-compress-output --timeout %(testTimePermitted)s
testTimePermitted=120
terminateTestEnvCommand=%(terminateTestEnvExecutable)s -u jenkins nepomukservicestub kdeinit4 kded4 klauncher knotify4 dbus-daemon
